<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace ="chart.dao.ChartDAO">

	<select id = "getTopLife" resultType = "ChartVO">
	SELECT (SELECT CARD_PRODUCT_NAME FROM CARD_PRODUCT_LIST L WHERE L.CARD_PRODUCT_CODE = C.CARD_PRODUCT_CODE )CARD_PRODUCT_CODE, COUNT(CARD_PRODUCT_CODE) 
	FROM CARD_CONTRACT C
		WHERE CARD_PRODUCT_CODE IN (4,5,7) AND REG_DATE = TO_DATE('1801', 'YY/MM') 
	GROUP BY(CARD_PRODUCT_CODE)
	
	</select>

</mapper>